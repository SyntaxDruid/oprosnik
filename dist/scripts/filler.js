(()=>{function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return o(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==t.return||t.return()}finally{if(i)throw a}}}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=Array(n);o<n;o++)t[o]=e[o];return t}"undefined"!=typeof chrome&&chrome.runtime;var t="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.sendMessage,r=null;function l(){return!!t&&(r=chrome.runtime,!0)}function a(e){console.log("üìö –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∑–≤–æ–Ω–∫–æ–≤:",e.length);var n=document.createElement("div");n.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.5);\n        z-index: 10000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    ";var o=document.createElement("div");o.style.cssText="\n        background: white;\n        border-radius: 8px;\n        padding: 20px;\n        max-width: 600px;\n        max-height: 80vh;\n        overflow-y: auto;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    ",o.innerHTML='\n        <h3 style="margin-top: 0; color: #333;">–í—ã–±–µ—Ä–∏—Ç–µ –∑–≤–æ–Ω–æ–∫ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏</h3>\n        <p style="color: #666; margin-bottom: 20px;">–ù–∞–π–¥–µ–Ω–æ –∑–≤–æ–Ω–∫–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏: '.concat(e.length,"</p>\n    ");var t=document.createElement("div");t.style.cssText="display: flex; flex-direction: column; gap: 10px;",e.forEach(function(e,o){var r=document.createElement("div");r.style.cssText="\n            border: 2px solid #e0e0e0;\n            border-radius: 5px;\n            padding: 15px;\n            cursor: pointer;\n            transition: all 0.2s;\n            background: #f9f9f9;\n        ",r.innerHTML='\n            <div style="display: flex; justify-content: space-between; align-items: start;">\n                <div>\n                    <strong style="color: #333;">üìû '.concat(e.phone,'</strong>\n                    <div style="color: #666; font-size: 14px; margin-top: 5px;">\n                        ‚è± –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ').concat(e.duration,"<br>\n                        üìç –†–µ–≥–∏–æ–Ω: ").concat(e.region,"<br>\n                        üïê –í—Ä–µ–º—è: ").concat(e.capturedAt,"\n                        ").concat(e.capturedDate?"<br>üìÖ –î–∞—Ç–∞: ".concat(new Date(e.capturedDate).toLocaleDateString()):"",'\n                    </div>\n                </div>\n                <div style="text-align: right; color: #999; font-size: 12px;">\n                    ').concat(0===o?'<span style="color: #4CAF50; font-weight: bold;">–ü–æ—Å–ª–µ–¥–Ω–∏–π</span>':"#".concat(o+1),"\n                </div>\n            </div>\n        "),r.onmouseenter=function(){r.style.borderColor="#4CAF50",r.style.background="#f0f8f0"},r.onmouseleave=function(){r.style.borderColor="#e0e0e0",r.style.background="#f9f9f9"},r.onclick=function(){u(e),document.body.removeChild(n)},t.appendChild(r)}),o.appendChild(t);var r=document.createElement("button");r.textContent="–û—Ç–º–µ–Ω–∞",r.style.cssText="\n        margin-top: 20px;\n        padding: 10px 20px;\n        background: #666;\n        color: white;\n        border: none;\n        border-radius: 5px;\n        cursor: pointer;\n        width: 100%;\n    ",r.onclick=function(){return document.body.removeChild(n)},o.appendChild(r),n.appendChild(o),document.body.appendChild(n),n.onclick=function(e){e.target===n&&document.body.removeChild(n)}}function c(){console.log("üîç –ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏...");var e=0,o=function(){var t;e++;var l=document.getElementById("create_inst");if(!l){console.log("‚è≥ –ü–æ–ø—ã—Ç–∫–∞ ".concat(e,"/").concat(10,': –ö–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞'));for(var a=!1,c=0,s=['button[type="submit"]','input[type="submit"]',".btn-primary","button.btn"];c<s.length;c++){var u=s[c];try{var d,m=n(document.querySelectorAll(u));try{for(m.s();!(d=m.n()).done;){var g=d.value;if(g.innerText&&g.innerText.includes("–û—Ç–≤–µ—Ç–∏—Ç—å")){console.log("‚úÖ –ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–º—É —Å–µ–ª–µ–∫—Ç–æ—Ä—É: ".concat(u)),l=g,a=!0;break}}}catch(e){m.e(e)}finally{m.f()}if(a)break}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä—É:",u,e)}}if(!l)return void(e<10?setTimeout(o,500):(console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É "–û—Ç–≤–µ—Ç–∏—Ç—å" –ø–æ—Å–ª–µ',10,"–ø–æ–ø—ã—Ç–æ–∫"),console.group("üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"),console.log("URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã:",window.location.href),console.log("–î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã:"),console.log("- –ö–Ω–æ–ø–∫–∏:",Array.from(document.querySelectorAll("button")).map(function(e){return{id:e.id,class:e.className,text:e.innerText}})),console.log("- –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è:",Array.from(document.querySelectorAll("textarea")).map(function(e){return{id:e.id,name:e.name,class:e.className}})),console.groupEnd()))}var f=l.parentElement?l.parentElement.querySelectorAll(".oprosnik-helper-btn"):[],p=!1;if(f.forEach(function(e){"BUTTON"===e.tagName&&e.innerText.includes("–í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ")?(p=!0,console.log("‚úÖ –ù–∞—à–∞ –∫–Ω–æ–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç")):(console.log("üîß –£–¥–∞–ª—è–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:",e),e.remove())}),!p){var y=document.createElement("button");y.innerText="–í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–≤–æ–Ω–∫–µ",y.type="button",y.className="btn btn-success ml-2 oprosnik-helper-btn",y.style.cssText="margin-left: 10px !important; display: inline-block !important; visibility: visible !important; opacity: 1 !important;",y.setAttribute("data-extension-id",(null===(t=chrome.runtime)||void 0===t?void 0:t.id)||"unknown"),y.setAttribute("data-version","2.2"),y.setAttribute("data-created-at",(new Date).toISOString()),y.addEventListener("click",i);try{l.insertAdjacentElement("afterend",y),console.log("‚úÖ –ö–Ω–æ–ø–∫–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ —Ü–µ–ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–∏"),setTimeout(function(){null===y.offsetParent?console.error("‚ö†Ô∏è –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –≤–∏–¥–∏–º–∞!"):console.log("‚úÖ –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∏–º–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é")},100),function(){var e=document.querySelector(".oprosnik-helper-btn");if(e){var n=document.createElement("span");n.style.cssText="margin-left: 5px; font-size: 12px;",r?(n.innerHTML="üü¢",n.title="API –¥–æ—Å—Ç—É–ø–µ–Ω"):(n.innerHTML="üî¥",n.title="API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"),e.appendChild(n)}}()}catch(e){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏:",e)}}};o()}function i(n){console.log("üñ±Ô∏è –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞",{timestamp:(new Date).toISOString(),apiAvailable:!!r});var o=n.target.closest(".oprosnik-helper-btn");if(!r&&!l())return console.error("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å API"),void s(o);var t=o.innerText;o.innerText="–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...",o.disabled=!0,function(e,n){if(!r)return console.error("‚ùå Message API –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"),void n({status:"error",message:"API —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"});try{r.sendMessage({action:"getCallData"},function(e){r.lastError?n({status:"error",message:r.lastError.message||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞"}):n(e)})}catch(e){n({status:"error",message:"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: "+e.message})}}(0,function(n){if(console.log("üì® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞:",n),o.innerText=t,o.disabled=!1,n&&"success"===n.status&&n.data){if(console.log("‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã:",n.data),Array.isArray(n.data)&&n.data.length>1)console.log("üìö –ù–∞–π–¥–µ–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –∏–∑ ".concat(n.data.length," –∑–≤–æ–Ω–∫–æ–≤. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±–æ—Ä.")),a(n.data);else if(Array.isArray(n.data)&&1===n.data.length)console.log("üìù –í –∏—Å—Ç–æ—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∑–≤–æ–Ω–æ–∫. –í—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ."),u(n.data[0]),o.innerText="–î–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã!";else{if("object"!==e(n.data)||null===n.data||Array.isArray(n.data))return console.log("‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω—ã –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü—Ä–æ–±—É–µ–º fallback."),void s(o);console.log("üìù –ü–æ–ª—É—á–µ–Ω –æ–¥–∏–Ω –∑–≤–æ–Ω–æ–∫. –í—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ."),u(n.data),o.innerText="–î–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã!"}"–î–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã!"===o.innerText&&(o.style.backgroundColor="#28a745",setTimeout(function(){o.innerText=t,o.disabled=!1,o.style.backgroundColor=""},2e3))}else{var r=(null==n?void 0:n.message)||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞";console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:",r),s(o)}})}function s(e){console.log("üîÑ –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage...");try{var n=localStorage.getItem("oprosnik_call_history"),o=localStorage.getItem("oprosnik_last_call");if(n){var t=JSON.parse(n);if(t&&t.length>0)return console.log("‚úÖ –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–π–¥–µ–Ω–∞ –≤ localStorage:",t.length),e.innerText="–í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–≤–æ–Ω–∫–µ",e.disabled=!1,void a(t)}if(o){var r=JSON.parse(o);return console.log("‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–≤–æ–Ω–æ–∫ –Ω–∞–π–¥–µ–Ω –≤ localStorage:",r),u(r),e.innerText="–î–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã!",void setTimeout(function(){e.innerText="–í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–≤–æ–Ω–∫–µ",e.disabled=!1},2e3)}throw new Error("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ localStorage")}catch(n){console.error("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ localStorage:",n),alert("–û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–≤–æ–Ω–∫–∞—Ö.\n\n–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:\n1. –û—Ç–∫—Ä—ã—Ç–∞ –≤–∫–ª–∞–¥–∫–∞ Cisco Finesse\n2. –ë—ã–ª –∑–∞–≤–µ—Ä—à–µ–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–≤–æ–Ω–æ–∫"),e.innerText="–í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–≤–æ–Ω–∫–µ",e.disabled=!1}}function u(e){console.log("üìù –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...");var n=document.getElementById("comment_");if(!n){console.error("‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (#comment_)");for(var o=0,t=['textarea[name="comment"]','textarea[id*="comment"]','.form-control[placeholder*="–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"]',"textarea.form-control"];o<t.length;o++){var r=t[o],l=document.querySelector(r);if(l){console.log("‚úÖ –ù–∞–π–¥–µ–Ω–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–ª–µ:",r),n=l;break}}if(!n)return void alert("–û—à–∏–±–∫–∞: –ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è")}!function(e,n){var o=n.duration||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",t="\n–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: ".concat(n.phone,"\n–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ").concat(o,"\n–†–µ–≥–∏–æ–Ω: ").concat(n.region,"\n"),r=e.value;e.value=t.trim()+"\n\n"+r,e.focus(),e.setSelectionRange(e.value.length,e.value.length),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),console.log("‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –ø–æ–ª–µ")}(n,e)}window.recreateHelperButton=function(){console.log("üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏..."),document.querySelectorAll(".oprosnik-helper-btn").forEach(function(e){console.log("üóëÔ∏è –£–¥–∞–ª—è–µ–º:",e),e.remove()}),c()},window.debugOprosnikHelper=function(){var e;console.group("üêõ Debug Oprosnik Helper"),console.log('–ö–Ω–æ–ø–∫–∞ "–û—Ç–≤–µ—Ç–∏—Ç—å":',document.getElementById("create_inst")),console.log("–ù–∞—à–∞ –∫–Ω–æ–ø–∫–∞:",document.querySelector(".oprosnik-helper-btn")),console.log("Chrome API:","undefined"!=typeof chrome&&chrome.runtime),console.log("Extension ID:",null===(e=chrome.runtime)||void 0===e?void 0:e.id);try{var n=localStorage.getItem("oprosnik_call_history"),o=localStorage.getItem("oprosnik_last_call");console.log("–ò—Å—Ç–æ—Ä–∏—è –≤ localStorage:",n?JSON.parse(n).length+" –∑–≤–æ–Ω–∫–æ–≤":"–Ω–µ—Ç"),console.log("–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–≤–æ–Ω–æ–∫:",o?"–µ—Å—Ç—å":"–Ω–µ—Ç")}catch(e){console.error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è localStorage:",e)}console.groupEnd()},console.log("üèÅ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è...");var d=l();console.log("üì° API –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:",d),"loading"===document.readyState?(console.log("‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM..."),document.addEventListener("DOMContentLoaded",function(){console.log("‚úÖ DOM –∑–∞–≥—Ä—É–∂–µ–Ω"),c()})):(console.log("‚úÖ DOM —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω"),c()),console.log("‚úÖ Oprosnik Helper: Filler Script –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω")})();