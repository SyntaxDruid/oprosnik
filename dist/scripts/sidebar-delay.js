(()=>{console.log("Oprosnik Helper: Sidebar Delay Script v5.0 Loaded.");var e,n=null,a=null,t=!1;function r(){var e=document.querySelector(".main-header .navbar-nav");if(e){var r=document.createElement("button");r.innerText="Задержка сайдбара: ВЫКЛ",r.className="btn oprosnik-helper-btn",r.type="button",r.addEventListener("click",function(){t=!t,r.innerText="Задержка сайдбара: ".concat(t?"ВКЛ":"ВЫКЛ"),t?(!function(){var e=document.querySelector(".main-sidebar, .control-sidebar, aside.main-sidebar");if(!e)return void console.error("Сайдбар не найден");document.body.classList.add("sidebar-delay-active"),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",i);var n=function(){var e=document.querySelector(".sidebar-trigger-zone");e&&e.remove();var n=document.createElement("div");return n.className="sidebar-trigger-zone",n.style.cssText="\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 20px;\n    height: 100vh;\n    z-index: 1000;\n    pointer-events: auto;\n  ",document.body.appendChild(n),n}();n&&(n.addEventListener("mouseenter",d),n.addEventListener("mouseleave",s))}(),console.log("Задержка сайдбара активирована")):(!function(){var e=document.querySelector(".main-sidebar, .control-sidebar, aside.main-sidebar");e&&(e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",i));var t=document.querySelector(".sidebar-trigger-zone");t&&t.remove();clearTimeout(n),clearTimeout(a),document.body.classList.remove("sidebar-delay-active"),document.body.classList.remove("sidebar-delayed-show")}(),console.log("Задержка сайдбара деактивирована"))});var c=document.createElement("li");c.className="nav-item",c.appendChild(r),e.appendChild(c)}else console.error("Не удалось найти панель навигации для добавления кнопки.")}function o(){clearTimeout(a),document.body.classList.contains("sidebar-delayed-show")||(clearTimeout(n),n=setTimeout(function(){document.body.classList.add("sidebar-delayed-show")},800))}function i(){clearTimeout(n),a=setTimeout(function(){document.body.classList.remove("sidebar-delayed-show")},300)}function d(){o()}function s(e){var n=document.querySelector(".main-sidebar, .control-sidebar, aside.main-sidebar");n&&!n.contains(e.relatedTarget)&&i()}(e=document.createElement("style")).textContent="\n    /* Стили для задержки сайдбара */\n    .sidebar-delay-active .main-sidebar,\n    .sidebar-delay-active .control-sidebar,\n    .sidebar-delay-active aside.main-sidebar {\n      transition: transform 0.3s ease-in-out !important;\n      transform: translateX(-100%) !important;\n    }\n    \n    .sidebar-delay-active.sidebar-delayed-show .main-sidebar,\n    .sidebar-delay-active.sidebar-delayed-show .control-sidebar,\n    .sidebar-delay-active.sidebar-delayed-show aside.main-sidebar {\n      transform: translateX(0) !important;\n    }\n    \n    /* Стиль для кнопки */\n    .oprosnik-helper-btn {\n      background-color: #007bff;\n      color: white;\n      border: none;\n      padding: 8px 16px;\n      margin: 0 10px;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 14px;\n      transition: background-color 0.3s;\n    }\n    \n    .oprosnik-helper-btn:hover {\n      background-color: #0056b3;\n    }\n    \n    /* Убираем margin у content-wrapper когда сайдбар скрыт */\n    .sidebar-delay-active:not(.sidebar-delayed-show) .content-wrapper {\n      margin-left: 0 !important;\n    }\n  ",document.head.appendChild(e),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()})();